<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@RenderSection("TitleContent", true) - EMS</title>
    <link href="~/Content/components/select2/dist/css/select2.min.css" rel="stylesheet" />
    <link href="~/Content/components/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet" />
    <link href="~/Content/components/dropzone/dist/dropzone.css" rel="stylesheet" />
    <link href="~/Content/components/perfect-scrollbar/css/perfect-scrollbar.min.css" rel="stylesheet" />
    <link href="~/Content/components/slick-carousel/slick/slick.css" rel="stylesheet" />
    <link href="~/Content/icon_fonts_assets/simple-line-icons/css/simple-line-icons.css" rel="stylesheet" />
    <link href="~/Content/icon_fonts_assets/themefy/themify-icons.css" rel="stylesheet" />
    <link href="~/Content/components/slick-carousel/slick/slick-theme.css" rel="stylesheet" />
    <link href="~/Content/css/main.css?version=4.4.0" rel="stylesheet" />
    <link href="~/Content/icon_fonts_assets/feather/style.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-3.7.1.min.js"></script>
    <script src="~/Scripts/jquery-ui-1.13.2.js"></script>
    <link href="~/Content/css/jquery-ui.css" rel="stylesheet" />

    

</head>
<body class="menu-position-side menu-side-left full-screen with-content-panel">

    <div class="all-wrapper with-side-panel solid-bg-all">


        <div class="layout-w">
            @*@if (loggedInInfo != null)
                {*@

            <!--------------------
            START - Main Menu
            -------------------->
            <div class="menu-w color-scheme-light color-style-default menu-position-side menu-side-left menu-layout-compact sub-menu-style-inside sub-menu-color-light selected-menu-color-light menu-activated-on-click menu-has-selected-link" style="min-height:950px">

                <div class="logo-w">
                    <a class="logo" href="@Url.Action("WelcomePage","Employee")">
                        <div class="logo-element"></div>
                        <div class="logo-label">

                            Employee Management System
                        </div>
                    </a>
                </div>
                <div class="logged-user-w avatar-inline">
                    <div class="logged-user-i">
                        <div class="avatar-w">
                            <img src="~/Content/img/avatar2.jpg" />
                        </div>
                        <div class="logged-user-info-w">
                            <div class="logged-user-name">
                                @*@loggedInInfo.UserNameForDisplay*@
                                Johnly Oroy
                            </div>

                            <div class="logged-user-role">
                                Administrator
                            </div>
                        </div>

                    </div>
                </div>

                <h1 class="menu-page-header">
                    Page Header
                </h1>
                <ul class="main-menu">
                    <li class="sub-header">
                        <span>Home</span>
                    </li>
                    <li class="selected ">
                        <a href="@Url.Action("WelcomePage","Employee")">
                            <div class="icon-w">
                                <div class="os-icon os-icon-layout"></div>
                            </div>
                            <span>Welcome Page</span>
                        </a>

                    </li>



                    <li class="sub-header">
                        <span>Employee</span>
                    </li>
                    <li class="" id="">
                        <a href="@Url.Action("Employees","Employee")">
                            <div class="icon-w">
                                <div class="os-icon os-icon-grid"></div>
                            </div>
                            <span>Employee</span>
                        </a>

                    </li>


                </ul>

            </div>
            <!--------------------
            END - Main Menu
            -------------------->
            @*}*@
            <div class="content-w">

                <div class="top-bar color-scheme-transparent">
                    <!--------------------
                    START - Top Menu Controls
                    -------------------->

                    <div class="col-lg-6 logo-w" style="float: left">
                        <text class="text-uppercase" style="font-weight:bold">EMPLOYEE MANAGEMENT SYSTEM</text>
                    </div>
                    <div class="col-lg-6">
                        <div class="top-menu-controls">


                            <!--------------------
                            START - Settings Link in secondary top menu
                            -------------------->

                            <div class="top-icon top-settings os-dropdown-trigger os-dropdown-position-left">
                                <i class="os-icon os-icon-ui-46"></i>
                                <div class="os-dropdown">
                                    <div class="icon-w">
                                        <i class="os-icon os-icon-ui-46"></i>
                                    </div>
                                    <ul>

                                        <li>
                                            <a href="#" id="logoutButton"><i class="os-icon os-icon-signs-11"></i><span>Logout</span></a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <!--------------------
                            END - Settings Link in secondary top menu
                            -------------------->

                        </div>
                    </div>

                    <!--------------------
                    END - Top Menu Controls
                    -------------------->
                </div>


                <div class="content-i">
                    <div class="content-box">

                        @RenderBody()

                    </div>
                </div>
            </div>
        </div>



    </div>


    <script src="~/Content/components/popper.js/dist/umd/popper.min.js"></script>
    <script src="~/Content/components/moment/moment.js"></script>
    <script src="~/Content/components/chart.js/dist/Chart.min.js"></script>
    <script src="~/Content/components/select2/dist/js/select2.full.min.js"></script>
    <script src="~/Content/components/jquery-bar-rating/dist/jquery.barrating.min.js"></script>
    <script src="~/Content/components/ckeditor/ckeditor.js"></script>
    <script src="~/Content/components/bootstrap-validator/dist/validator.min.js"></script>
    <script src="~/Content/components/bootstrap-daterangepicker/daterangepicker.js"></script>
    <script src="~/Content/components/ion.rangeSlider/js/ion.rangeSlider.min.js"></script>
    <script src="~/Content/components/dropzone/dist/dropzone.js"></script>
    <script src="~/Content/components/editable-table/mindmup-editabletable.js"></script>
    <script src="~/Content/components/fullcalendar/dist/fullcalendar.min.js"></script>
    <script src="~/Content/components/perfect-scrollbar/js/perfect-scrollbar.jquery.min.js"></script>
    <script src="~/Content/components/tether/dist/js/tether.min.js"></script>
    <script src="~/Content/components/slick-carousel/slick/slick.min.js"></script>
    <script src="~/Content/components/bootstrap/js/dist/util.js"></script>
    <script src="~/Content/components/bootstrap/js/dist/alert.js"></script>
    <script src="~/Content/components/bootstrap/js/dist/button.js"></script>
    <script src="~/Content/components/bootstrap/js/dist/carousel.js"></script>
    <script src="~/Content/components/bootstrap/js/dist/collapse.js"></script>
    <script src="~/Content/components/bootstrap/js/dist/dropdown.js"></script>
    <script src="~/Content/components/bootstrap/js/dist/modal.js"></script>
    <script src="~/Content/components/bootstrap/js/dist/tab.js"></script>
    <script src="~/Content/components/bootstrap/js/dist/tooltip.js"></script>
    <script src="~/Content/components/bootstrap/js/dist/popover.js"></script>
    <script src="~/Content/js/demo_customizer.js?version=4.4.0"></script>
    <script src="~/Content/js/main.js?version=4.4.0"></script>
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
   


    <script>
        $(document).ready(function () {
            // Add a click event handler to the logout button
            $("#logoutButton").click(function () {
                // Make an AJAX request to the logout API
                $.ajax({
                    type: 'POST',
                    url: 'https://localhost:44395/logout',
                    headers: {
                        Authorization: 'Bearer ' + localStorage.getItem("AccessToken")
                    },
                    success: function () {
                        // On success, clear the token from local storage and perform additional actions
                        localStorage.removeItem("AccessToken");
                        alert('Logout successful');
                        // Redirect to the login page or perform other actions as needed
                        window.location.href = 'https://localhost:44348/Account/Login';
                    },
                    error: function (xhr, status, error) {
                        console.error('Error logging out:', error);

                        // Log the detailed error information in the console
                        console.log('XHR:', xhr);
                        console.log('Status:', status);

                        // Optionally display an error message to the user
                        alert('Error logging out. Please check the console for details.');

                        // Handle error, e.g., display an error message
                    }
                });
            });
        });
    </script>
    @RenderSection("scripts", required: false)
</body>

</html>
