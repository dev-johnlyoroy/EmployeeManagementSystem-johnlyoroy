@section TitleContent { Sign In }
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>

<!DOCTYPE html>
<html>
<head>
    <title>Admin Dashboard HTML Template</title>
    <meta charset="utf-8">
    <meta content="ie=edge" http-equiv="x-ua-compatible">
    <meta content="template language" name="keywords">
    <meta content="Tamerlan Soziev" name="author">
    <meta content="Admin dashboard html template" name="description">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    @*<link href="favicon.png" rel="shortcut icon">*@
    <link href="apple-touch-icon.png" rel="apple-touch-icon">
    <link href="https://fonts.googleapis.com/css?family=Rubik:300,400,500" rel="stylesheet" type="text/css">
    @*<link href="bower_components/select2/dist/css/select2.min.css" rel="stylesheet">
    <link href="bower_components/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet">*@
    <link href="~/Content/components/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet" />
    <link href="~/Content/components/dropzone/dist/dropzone.css" rel="stylesheet" />

    <link href="~/Content/components/datatables.net-bs/css/dataTables.bootstrap.min.css" rel="stylesheet" />

    <link href="~/Content/components/fullcalendar/dist/fullcalendar.min.css" rel="stylesheet" />

    <link href="~/Content/components/perfect-scrollbar/css/perfect-scrollbar.min.css" rel="stylesheet" />

    <link href="~/Content/components/slick-carousel/slick/slick.css" rel="stylesheet" />
    <link href="~/Content/css/main.css" rel="stylesheet" />
</head>
<body class="auth-wrapper" style="overflow:hidden;margin-top:-50px">
    <div class="all-wrapper menu-side with-pattern" style="max-height:700px">
        <div class="auth-box-w">
            <div class="logo-w" style="height:200px">


                <img src="~/Content/img/logo-big.png" />
            </div>
            <h4 class="auth-header">
                Login Form
            </h4>
            <form onsubmit="event.preventDefault(); submitLoginForm();">
                <div class="form-group">
                    <label for="">Username</label><input class="form-control" id="username" placeholder="Enter your username" type="text">
                    <div class="pre-icon os-icon os-icon-user-male-circle"></div>
                </div>
                <div class="form-group">
                    <label for="">Password</label><input class="form-control" id="password" placeholder="Enter your password" type="password">
                    <div class="pre-icon os-icon os-icon-fingerprint"></div>
                </div>
                <div class="buttons-w">
                    <button class="btn btn-primary">Log me in</button>
                    @*<div class="form-check-inline">
                <label class="form-check-label"><input class="form-check-input" type="checkbox">Remember Me</label>
            </div>*@
                </div>
            </form>
        </div>
    </div>
</body>
</html>
<script>
    function submitLoginForm() {
        var formData = {
            username: $('#username').val(),
            password: $('#password').val(),
        };

        $.ajax({
            type: 'POST',
            url: 'https://localhost:44395/signin',
            contentType: 'application/json',
            data: JSON.stringify(formData),
            success: function (token) {
                // Successful login, token is received
                console.log('Token:', token);
                window.location.replace("https://localhost:44348/Employee/WelcomePage");

                // Store the token in localStorage for future use
                localStorage.setItem("AccessToken", token);
            },
            error: function (error) {
                console.error('Error:', error);
                // Handle error, e.g., display an error message
            }
        });


        //LOGOUT
        //localStorage.removeItem("AccessToken");
        //window.location.replace("https://localhost:44348/Account/Login");
    }
</script>

